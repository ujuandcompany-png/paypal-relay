<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Editable PayPal Cart Test</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; }
  #cartSummary { margin-bottom: 20px; border: 1px dashed #ccc; padding: 10px; }
  #paypal-buttons-container { margin-top: 20px; }
</style>
</head>
<body>
<h2>Editable PayPal Cart Test Canvas</h2>
<div id="cartSummary">Cart will display here</div>
<div id="paypal-buttons-container">PayPal buttons will display here</div>

<!-- Paste or edit your cart + PayPal JS below -->
<script>
// This is a touchable/editable canvas for testing
const sampleCartItems = [
  { name: 'Eggshell Drying Vase', qty: 2, price: 50 },
  { name: 'Ornament', qty: 1, price: 15 }
];

function renderCart(items){
  const container = document.getElementById('cartSummary');
  let total = 0;
  let html = '';
  items.forEach(it => {
    const line = it.qty * it.price;
    total += line;
    html += `<div>${it.name} x ${it.qty} = $${line.toFixed(2)}</div>`;
  });
  html += `<div><strong>Total: $${total.toFixed(2)}</strong></div>`;
  container.innerHTML = html;
  return total;
}

const total = renderCart(sampleCartItems);

// Load PayPal buttons (editable) for testing
const script = document.createElement('script');
script.src = 'https://www.paypal.com/sdk/js?client-id=sb&currency=USD';
document.body.appendChild(script);
script.onload = () => {
  paypal.Buttons({
    createOrder: (data, actions) => {
      return actions.order.create({
        purchase_units: [{
          amount: { value: total.toFixed(2) },
          items: sampleCartItems.map(it => ({
            name: it.name,
            unit_amount: { currency_code: 'USD', value: it.price.toFixed(2) },
            quantity: it.qty
          }))
        }]
      });
    },
    onApprove: (data, actions) => {
      return actions.order.capture().then(details => alert('Paid by ' + details.payer.name.given_name));
    }
  }).render('#paypal-buttons-container');
};
</script>
</body>
</html>
